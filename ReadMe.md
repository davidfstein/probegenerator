# Prepare Mount Folder
Create a folder called whatever you like. I will refer to it as MountFolder. Place the fasta file[s] with your sequences of interest in this folder and your bowtie2 index. This folder is where the program output will be written.

# Build bowtie2 index
```
bowtie2-build --threads {# of threads you wish to use} -f {path/to/reference_fasta} {name_for_index}
```
Place all the .bt2 files generated by the build command in a folder with the name you chose for the index.
Move the folder you created into the MountFolder.

# Edit the env file
The env_file stores arguments to be passed to the container when it is run.
The arguments 'l', 'L', 'g', 'G', 't', 'T', 's', and 'F' all correspond to arguments to the OligoMiner blockParse script, and their descriptions can be found in OligoMiner.
- 'seq_path' corresponds to the path to the fasta file that holds your sequence[s].
- 'path_to_bowtie_index' the path to the folder containing your reference index.
- 'bowtie_index_basename' the name of your reference index.
- 'initiator' the path to the file containing your initiators.  
  
Update the env file with the appropriate arguments for your needs. 

# Run the container
```
docker run --env-file={path/to/env_file} -v ~/{path/to/MountFolder}:/data dstein96/probegenerator:0.73
```
After running the container you should see a folder called output containing the probe information in your MountFolder.

# The iniator file
See the file called "initiator.csv" in the res/examples directory in this project for an example of what your initiator file should look like. Keep your headers as you see them in the example file. You may use as many initiators as desired.

# Troubleshooting
If a new version of the probegenerator is released on docker you will need to pull the latest image in order to utilize the latest functionality. The latest version of the image will be accessible under the highest numerical version value. For instance, if there are images tagged with 0.1 and 0.2, then the image tagged '0.2' corresponds to the most up to date image. 

Paths in the env_file are relative to the MountFolder. For instance, if your folder structure is 'MountFolder/genes.fasta', then the path to fasta file is './genes.fasta'.

Check the latest version of the docker image here: https://cloud.docker.com/repository/registry-1.docker.io/dstein96/probegenerator/tags

# Citation
10.5281/zenodo.3516447

# References 
OligoMiner: A rapid, flexible environment for the design of genome-scale oligonucleotide in situ hybridization probes Brian J. Beliveau, Jocelyn Y. Kishi, Guy Nir, Hiroshi M. Sasaki, Sinem K. Saka, Son C. Nguyen, Chao-ting Wu, Peng Yin bioRxiv 171504; doi: https://doi.org/10.1101/171504
